/*
 * This is a manifest file that'll be compiled into application.css, which will include all the files
 * listed below.
 *
 * Any CSS and SCSS file within this directory, lib/assets/stylesheets, vendor/assets/stylesheets,
 * or any plugin's vendor/assets/stylesheets directory can be referenced here using a relative path.
 *
 * You're free to add application-wide styles to this file and they'll appear at the bottom of the
 * compiled file so the styles you add here take precedence over styles defined in any other CSS/SCSS
 * files in this directory. Styles in this file should be added after the last require_* statement.
 * It is generally better to create a new file per style scope.
 *
 *= require normalize-rails
 *= require jquery-ui/draggable
 *= require_tree .
 *= require_self
 */

@import "alertify";
@import "alertify/default";
@import "alertify/bootstrap";
@import "semantic-ui";

@red: #EA3733;
@yellow: #F4B43F;
@blue: #3A84EB;
@green: #5CCA5B;
$red: #EA3733;
$yellow: #F4B43F;
$blue: #3A84EB;
$green: #5CCA5B;
$tagColor: $blue;
$likertColor: $yellow; 
$numericalColor: $green;

$item-height-collapsed: 80px;
$navbar-height: 60px;
$header-height: 55px;
$scheme-height: 55px;
$nav-el-height: $header-height + $scheme-height - 50px;


.noselect {
  -webkit-tap-highlight-color: transparent;
  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently
                                  supported by Chrome, Opera and Firefox */
}
body{
  -webkit-user-select: none;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
}
html:not(.iot), body:not(.iot), .ui.container.mobile{
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
	height: 100% !important;
	width: 100% !important;
	overflow: hidden;
	margin: 0px !important;
  font-size: 12pt;
}

/*html, body{
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  width: 100% !important;
  margin: 0px !important;
  font-size: 12pt;
}*/
#view-container{
  background: white;
  display: flex;
  width: 400%;
  height: calc(100% - #{$navbar-height});
  flex-flow: row nowrap;
  position: relative;
  transition: left 0.5s;
  &[state="schemes"] { left: 0; }
  &[state="records"] { left: -100%; }
  &[state="data_models"] { left: -200%; }
  &[state="feedback"] { left: -300%; }
}
html, body{
  transition: background 0.5s;
  &[state="schemes"]{ background: $blue !important;}
  &[state="records"]{ background: $red !important;}
  &[state="data_models"]{ background: $yellow !important;}
  &[state="feedback"]{ background: $green !important;}
}
.view{
  overflow: hidden;
  height: 100%;
  width: 100%;
  position: relative;
  background: $blue;
  &[name="schemes"]{ background: $blue;}
  &[name="records"]{ background: $red;}
  &[name="data_models"]{ background: $yellow;}
  &[name="feedback"]{ background: $green;}

}
.view[name="schemes"]{
  .collection-panel{ height: 100%; }
}
#speed, #elapsed{
  text-align: center;
  font-size: 0.9em;
}
#navbar{
  margin-bottom: 0px;
  margin-top: 0px;
  height: $navbar-height;
  position: absolute;
  bottom: 0;
  width: 100%;
  border-radius: 0px;
  a.item{
    display: flex;
    flex-flow: row nowrap;
    align-items: center;
    justify-content: center;
    width: calc(25%);
    padding: 0;
    margin: 0;
  }
  .menu{
    width: 100%;
  }
}
.ui.list {
  font-size: 0.9em;
}

.red{
  background: $red;
  color: white;
}
.green{
  background: $green;
  color: white;
}

/* DROPBOX ICONS */

i{
  margin-right: 3px;
  img.icon{
    height: 1em !important;
    top: 3px;
    position: relative;
  }
}


/* BEGIN PILL CSS */
.pill:not(label){
  font-size: 0.7em;
  padding: 2px 10px;
  border-radius: 50px;
  display: inline-block;
  border: 1px solid black;
  text-transform: uppercase;
}

form.esm-form{
  .esm{ display: block; }
}
form:not(.esm-form){
  .esm{ display: none; }
}

.fieldset{
  display: flex;
  flex-flow: row wrap;
  align-content: center;
  justify-content: center;
  margin-top: 5px;
  margin-bottom: 10px;
  width: 100%;
  padding: 5px 10px;
  min-height: 50px;
  border: 1px dotted #ddd;
  background: #FDFDFD;
  -webkit-box-shadow: inset 2px 0px 20px -6px rgba(0, 0, 0, 0.1); 
  box-shadow: inset 2px 0px 20px -6px rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  p{
    text-align: center;
    width: 100%;
    min-height: 36px;
    margin-bottom: 3px;
  }
}
.template{display: none !important;}

label.pill{
  display: inline-block !important;
  margin: 3px 4px;
  font-size: 0.8rem;
  
  & > div{
    border: 1px solid black;
    display: inline-block;
    text-transform: uppercase;
    font-weight: normal;
  }
  &.template{display: none !important;}
  
  &:not(.esmlabels){.detail{ display: none}}
  &.esmlabels, &.esmlabels.small{
    .title{
      position: relative;
      top: -4px;
    }
    .detail{
      width: 100%;
      position: absolute;
      left: 6px;
      bottom: -4px;
      text-transform: uppercase;
      font-size: 0.45em;
      font-weight: bold;
      color: blue;
      span{
        width: auto;
        display: inline;
      }
    } 
  }
  .type{
    border-top-left-radius: 50px;
    border-bottom-left-radius: 50px;
    padding-top: 1px;
    padding-bottom: 1px;
    
    border-right: 1px solid black;
    padding-right: 6px;
    
    padding-left: 10px;
  }
  .content{
    position:relative;
    border-top-right-radius: 50px;
    border-bottom-right-radius: 50px;
    
    padding-top: 1px;
    padding-bottom: 1px;

    padding-right: 10px;
    padding-left: 5px;
    margin-left: -5px;
    
  }

  
}

.whole.pill{
  margin: 3px;
  font-size: 0.7em;
  padding: 2px 10px;
  border-radius: 50px !important;
  display: inline-block;
  border: 1px solid black;
  text-transform: uppercase;
  
  &.selected{ background: $blue;}
  &.t{ background: $tagColor;}
  &.l{ background: $likertColor;}
  &.n{ background: $numericalColor;}
}
.pill{
  &.t{
      .type{ background: darken($tagColor, 10%);}
      .content{ background: $tagColor;}
    }
  &.l5{
      .type{ background: darken($likertColor, 10%);}
      .content{ background: $likertColor;}
  }
  &.l7{
      .type{ background: darken($likertColor, 10%);}
      .content{ background: $likertColor;}
  }
  &.n{
      .type{ background: darken($numericalColor, 10%);}
      .content{ background: $numericalColor;}
  }
  &.small{
    font-size: 0.7em;
    .type{ 
      padding-top: 2px;
      padding-bottom: 2px;
      }
    .content{ 
      padding-top: 2px;
      padding-bottom: 2px;
    }
  }
  &.large{
    font-size: 1.5em;
  }
}
/* END PILL CSS*/
.create-panel{background: $red !important;}
.create-panel, .create-dataset{
  
  height: calc(50% - #{$nav-el-height/2}) !important;
  display: flex;
  flex-flow: column nowrap;
  align-content: center;
  justify-content: center;
  
  .fieldset{ 
    padding: 4px 3px;
    flex-flow: row wrap;
    align-content: center;
    justify-content: center;
    .pill.selected{
      .type{ background: $blue; }
      .content{ background: $blue; }
    }
    &:not(.log){
      .pill:not(.selected){
        .type{ background: #DDD; }
        .content{ background: #DDD; }
      }
    }
  }

  .canvas-container{
    width: 100%;
    height: 100px;
  }
  .message{
    label{font-weight: bold;}
    text-align: center;
    margin: 5px 10px;
  }
  .action#record{
    margin: 10px 0px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    align-content: center;
    button{
      border: 2px solid black;
      width: 58px;
      height: 58px;
      padding: 20px 17px;
      color: white;
      margin: 5px;
      border-radius: 100px;
      i{
        font-size: 1.8em;
      }
    }

  }

  .init{display: none;}
  &[state='init'] .init{
    display: block;
    &.fieldset{display: flex;}
  } 
  
  .post{display: none;}
  &[state='post'] .post{
    display: block;
    &.fieldset{display: flex;}
  } 

  .pre{display: none;}
  &[state='pre'] .pre{
    display: block;
    &.fieldset{display: flex;}
  }

  .esm{display: none;}
  &[state='esm'] .esm{
    display: block;
    &.fieldset{display: flex;}
  } 

  .recording{display: none;}
  &[state='recording'] .recording{
    display: block;
    &.fieldset{display: flex;}
  } 

  .clutching{display: none;}
  &[state='clutching'] .clutching{
    display: block;
    &.fieldset{display: flex;}
  } 
  .clutch-recording{
    background: red !important;
  }

  .paused{display: none;}
  &[state='paused'] .paused{
    display: block;
    &.fieldset{display: flex;}
  } 

  .end{display: none;}
  &[state='end'] .end{
    display: block;
    &.fieldset{display: flex;}
  } 
}

header{
  height: $header-height;
  position: relative;
  display: flex;
  flex-flow: row nowrap;
  align-content: center;
  align-items: center;
  justify-content: space-between;
  padding: 0.5em 1.1em;
  &.left-stack{
    justify-content: flex-start;
  }
  &.inverted{
    background: rgba(0, 0, 0, 1.0);
    color: white;
  }
  h1{
    margin-left: 2px;
    font-size: 1.2rem;
    margin: 0px 0px;
  }
}


.footer{
  width: 100%;
  margin: 0px;
  padding: 0.5em 0.8em;
  display: flex;
  flex-flow: row nowrap;
  align-content: center;
  align-items: center;
  justify-content: center;

  background: rgba(255, 255, 255, 0.5);
  position: absolute;
  bottom: 0;
  &.sub{
    bottom: $navbar-height;
  }
  &.inverted{
    background: rgba(0, 0, 0, 0.5);
  }
  .button{

  }
}

/* BEGIN COLLECTION CSS */
  .full-panel{
    height: calc(100% - #{$navbar-height} - #{$header-height});
    overflow-y: scroll;
  }
  .floated.left{
    float:left;
  }
  .scheme-panel{
    padding: 5px 16px !important;
    height: $scheme-height !important;
  }
  .collection-panel, .collection-dataset{
    
    height: calc(50% - #{$nav-el-height});
    padding-top: 0 !important;
    border: none !important;
    padding-top: 0.5em !important;
    overflow-y: scroll;
    .header span{
        margin-left: 5px;
      }
    &>.header{
      margin: -15px;
      padding: 10px 15px;
      margin-bottom: 5px;
      background: #333;
      
    }
    ul{
      list-style-type: none;
      margin: 0;
      padding: 0px;
      margin-left: -6px;
      margin-right: -12px;
    }
  
    li{
        background: white;
        color: black;
        position: relative;
        margin: 6px;
        padding: 15px 10px;
        padding-top: 9px;
        border-radius: 5px;
        overflow: hidden;

        .field{margin-bottom: 4px;}
        canvas{width: 100%;}
        .fieldset{ 
          padding: 4px 3px;
          flex-flow: row wrap;
          align-content: flex-start;
          justify-content: flex-start;
        }
        .whole.pill{
          margin: 4px 1px;
          background: $blue;
          color: white;
          font-weight: bold;
          &.marker{
            background: white;
            color: black;
            border-radius: 2px solid black;
          }
        }

        .ui.header{
          span{
            font-size: 0.8em;
          }
          &:first-child{
            margin-top: 0px;
          }
          width: calc(100% - 35px);
          border-bottom: 1px solid gray;
          margin-bottom: 0;
          padding-bottom: 4px;
          padding-bottom: 4px;
        }
        
        & >.content{ 
          margin-top: 4px;
          width: calc(100% - 35px);
        }
        .summary{
          .left{
            float: left;
            width: 50px;
            overflow: hidden;
          }
          .icon{
            width: 40px;
            img{width: 100%;}
          }
        }
        .expand{
          margin-top: 10px;
        }
        .item-action{
          position: absolute;
          height: calc(100% - 6px);
          top: 0;
          right: 0;
          width: 40px;
          display: flex;
          background: rgba(0.1, 0.1, 0.1, 0.1);
          flex-flow: row nowrap;
          align-items: center;
          justify-content: center;
          margin: 3px;
          border-top-right-radius: 5px;
          border-bottom-right-radius: 5px;
          
          .action{
            display: flex;
            height: 100%;
            width: 100%;
            flex-flow: row nowrap;
            align-items: center;
            align-content: center;
            justify-content: center;
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
          
            &:visited{color: white;}
            &:hover{
              color: inherit;
              background: inherit;
            }
          } 
        }
        
        /* ANIMATIONS */
        .summary{transition: all 0.3s;}
        .chevron{transition: all 0.3s;}
        .expand{transition:max-height 0.5s;}


        &.collapsed{
          height: auto;
          max-height: $item-height-collapsed;
          overflow: hidden;
          .content{max-height: $item-height-collapsed;}
          .expand{max-height: 0;}
          .summary{min-height: $item-height-collapsed;}
          .chevron{transform: rotate(180deg);}
        }

        &:not(.collapsed){
          .summary{ min-height: auto;}
          .expand{
            max-height: 150px;
          }
        }
        &.destroyable{
          .action.destroy{display:flex;}
          .action:not(.destroy){display:none;}
        }
        &:not(.destroyable){
          .action.destroy{display:none;}
          .action:not(.destroy){display:flex;}
        }

    }
  }

/* END COLLECTION CSS */
